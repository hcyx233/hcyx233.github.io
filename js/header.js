// build time:Fri Mar 24 2023 14:45:07 GMT+0800 (China Standard Time)
$(document).ready(function(){var e=$(".header-nav-menubtn");var i=$(".header-nav-menu");var t=$(".header-nav-menu-item");var n=$(".header-nav-submenu");var a=e.is(":visible");var o=false;var s=false;function l(){t.velocity({height:t.outerHeight()},{complete:function(){n.css({display:"none",opacity:0})}})}$(window).on("resize",Stun.utils.throttle(function(){a=e.is(":visible");if(a){n.removeClass("hide--force");if(s){l();s=false}}else{n.css({display:"none",opacity:0})}},200));var r=true;var u=$(".mode");$(document).on("click",function(){if(i.is(":visible")){if(a&&s){l();s=false}i.css({display:"none"});o=false}if(r){u.removeClass("mode--focus");r=false}});Stun.utils.pjaxReloadHeader=function(){e=$(".header-nav-menubtn");i=$(".header-nav-menu");t=$(".header-nav-menu-item");n=$(".header-nav-submenu");a=e.is(":visible");o=false;s=false;function c(){var e=false;try{if(parseInt(Stun.utils.Cookies().get(f))){e=true}}catch(i){}return e}if(CONFIG.nightMode&&CONFIG.nightMode.enable){var d=false;var f="night_mode";u=$(".mode");r=true;if(c()){u.addClass("mode--checked");u.addClass("mode--focus");$("html").addClass("nightmode");d=true}else{d=false}$(".mode").on("click",function(e){e.stopPropagation();d=!d;r=true;Stun.utils.Cookies().set(f,d?1:0);u.toggleClass("mode--checked");u.addClass("mode--focus");$("html").toggleClass("nightmode")})}e.on("click",function(e){e.stopPropagation();if(a&&o&&s){l();s=false}if(!o){o=true}else{o=false}i.velocity("stop").velocity({opacity:o?1:0},{duration:o?200:0,display:o?"block":"none"})});var h=false;$(".header-nav-submenu-item").on("click",function(){h=true});t.on("click",function(e){if(!a){return}var i=$(this).find(".header-nav-submenu");if(!i.length){return}if(!h){e.stopPropagation()}else{h=false}var n=t.outerHeight();var o=n+Math.floor(i.outerHeight())*i.length;var l=0;if($(this).outerHeight()>n){s=false;l=n}else{s=true;l=o}i.css({display:"block",opacity:1});$(this).velocity("stop").velocity({height:l},{duration:300}).siblings().velocity({height:n},{duration:300})});t.on("mouseenter",function(){var e=$(this).find(".header-nav-submenu");if(!e.length){return}if(!e.is(":visible")){if(a){e.css({display:"block",opacity:1})}else{e.removeClass("hide--force");e.velocity("stop").velocity("transition.slideUpIn",{duration:200})}}});t.on("mouseleave",function(){var e=$(this).find(".header-nav-submenu");if(!e.length){return}if(!a){e.addClass("hide--force");s=false}})};Stun.utils.pjaxReloadScrollIcon=function(){if(CONFIG.header&&CONFIG.header.scrollDownIcon){$(".header-banner-arrow").on("click",function(e){e.stopPropagation();$("#container").velocity("scroll",{offset:$("#header").outerHeight()})})}};Stun.utils.pjaxReloadHeader();Stun.utils.pjaxReloadScrollIcon()});
//rebuild by hrmmi 