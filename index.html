<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.8.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.8.0" type="image/png" sizes="32x32"><meta name="description" content="花晨月夕的个人博客">
<meta property="og:type" content="website">
<meta property="og:title" content="花晨月夕的个人博客">
<meta property="og:url" content="https://hcyx233.github.io/index.html">
<meta property="og:site_name" content="花晨月夕的个人博客">
<meta property="og:description" content="花晨月夕的个人博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="花晨月夕">
<meta name="twitter:card" content="summary"><title>花晨月夕的个人博客</title><link ref="canonical" href="https://hcyx233.github.io/index.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.8.0"><link rel="stylesheet" href="css/custom.css"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Hello Stun</div><div class="header-banner-info__subtitle">An elegant theme for Hexo</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content content-home" id="content"><section class="postlist"><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/21/%E8%93%9D%E9%98%9F%E8%A7%86%E8%A7%92%E4%B8%8B%E7%9A%84%E9%98%B2%E5%BE%A1%E4%BD%93%E7%B3%BB%E7%AA%81%E7%A0%B4/">蓝队视角下的防御体系突破</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-03-21</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-03-21</span></span></div></header><div class="post-body"><div class="post-excerpt"><h4 id="蓝队视角下的防御体系突破"><a href="#蓝队视角下的防御体系突破" class="headerlink" title="蓝队视角下的防御体系突破"></a>蓝队视角下的防御体系突破</h4><blockquote>
<p>蓝队工作的”四板斧”</p>
</blockquote>
<p>第一阶段：站前收集</p>
<ol>
<li>漏洞挖掘</li>
<li>工具储备</li>
<li>战法策略</li>
<li>以赛代练</li>
</ol>
<p>第二阶段：情报收集</p>
<p>第三阶段：建立据点</p>
<p>通过撕开的口子，寻找和内网联通的通道，再进一步进行深入渗透，这个由外到内的过程一般称之为纵向渗透。如果没有找到内外联通的DMZ 区（Demilitarized Zone，隔离区），蓝队专家会继续撕口子，直到找到接入内网的点为止。  </p>
<p>第四阶段：横向移动</p>
<blockquote>
<p>蓝队的套路-常用的攻击战术</p>
</blockquote>
<ol>
<li><p>利用弱口令获得权限</p>
</li>
<li><p>利用互联网边界渗透内网</p>
</li>
<li><p>利用通用产品组件漏洞</p>
</li>
<li><p>利用安全产品0day漏洞</p>
<p>安全产品的0day漏洞常常是蓝队最好的攻击利器。</p>
</li>
<li><p>利用人心弱点社工钓鱼</p>
</li>
<li><p>利用供应链隐蔽攻击</p>
</li>
<li><p>利用下属单位迂回攻击</p>
</li>
<li><p>秘密渗透</p>
<p>不同于民间黑客或黑产团队，蓝队工作一般不会大规模使用漏洞扫描器，因为扫描器活动特征明显，很容易暴露自己。例如，目前主流的 WAF、 IPS 等防护设备都有识别漏洞扫描器的能力，一旦发现后，可能第一时间触发报警或阻断 IP。  </p>
</li>
<li><p>多点潜伏</p>
</li>
</ol>
<blockquote>
<p>蓝队眼中的防守弱点</p>
</blockquote>
<ol>
<li><p>资产混乱、隔离策略不严格</p>
<p><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230321184258.png" alt="image-20230321184257313"></p>
</li>
<li><p>通用中间件未修复漏洞较多</p>
</li>
<li><p>边界设备成为进入内网的缺口</p>
</li>
<li><p>内网管理设备成扩大战果突破点</p>
<p><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230321185056.png" alt="image-20230321184632860"></p>
</li>
<li><p>安全设备自身安全成为新的风险点</p>
<p><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230321184734.png" alt="image-20230321184733627"></p>
</li>
</ol>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/21/%E5%B0%8F%E5%85%AD%E5%A3%AC/">小六壬</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-03-21</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-03-21</span></span></div></header><div class="post-body"><div class="post-excerpt"><h3 id="小六壬"><a href="#小六壬" class="headerlink" title="小六壬"></a>小六壬</h3><h4 id="数字法起卦方式"><a href="#数字法起卦方式" class="headerlink" title="数字法起卦方式"></a>数字法起卦方式</h4><ol>
<li>万事大安起</li>
<li>数字法出现0的情况，遇见0直接忽略，例如17:05，直接175</li>
<li>纯0的情况，例如00:00，直接按空亡来算</li>
<li>数字突然变化的情况，这是在确认时间的瞬间变化才算</li>
<li>同声相应，同气相求</li>
</ol>
<h4 id="实战教学"><a href="#实战教学" class="headerlink" title="实战教学"></a>实战教学</h4><ol>
<li>解卦前提<ol>
<li>具像化问题</li>
<li>求测者目的</li>
</ol>
</li>
<li>解卦的核心思路<ol>
<li>不要纠结于断语</li>
<li>卦象的特点才是最关键的</li>
<li>不要纠结于五行</li>
<li>以卦象特点解卦最为直观</li>
</ol>
</li>
<li>六宫的特点<ol>
<li>六宫之。大安<ol>
<li>静态、稳定发展、不动的一切</li>
<li>思维引导：正在发生、未发生(难成)</li>
</ol>
</li>
<li>六宫之。留连<ol>
<li>延迟、慢动态、输出</li>
</ol>
</li>
<li>六宫之。速喜<ol>
<li>快速</li>
</ol>
</li>
<li>六宫之。赤口<ol>
<li>与嘴巴有关的一切、口舌是非</li>
<li>冲突、聊天</li>
</ol>
</li>
<li>六宫之。小吉<ol>
<li>佛系、随缘、恰到好处</li>
</ol>
</li>
<li>六宫之。空亡<ol>
<li>空无、没有、空间</li>
<li>天空、画大饼</li>
</ol>
</li>
</ol>
</li>
</ol>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/21/Windows-node-js%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/">Windows node.js安装与配置</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-03-21</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-03-21</span></span></div></header><div class="post-body"><div class="post-excerpt"><h3 id="Windows-node-js安装及环境配置"><a href="#Windows-node-js安装及环境配置" class="headerlink" title="Windows node.js安装及环境配置"></a>Windows node.js安装及环境配置</h3><h4 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h4><p>1、下载安装包，可以下载LTS长期支持版</p>
<p>2、安装组件，保持默认就好</p>
<p>3、安装开发工具，开发工具可以等以后实际开发过程中安装，这里选择不勾选安装工具</p>
<p><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230321163054.png" alt="img"></p>
<p>4、余下步骤默认就好</p>
<h4 id="配置node-js"><a href="#配置node-js" class="headerlink" title="配置node.js"></a>配置node.js</h4><p>1、移动到node.js安装目录下</p>
<p>2、创建全局组件文件夹和缓存文件夹</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">mkdir</span> node_global<br><span class="hljs-built_in">mkdir</span> node_cache<br></code></pre></td></tr></table></figure>

<p>3、设置npm全局包目录</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm config <span class="hljs-built_in">set</span> prefix <span class="hljs-string">&quot;/path/to/node_global&quot;</span><br></code></pre></td></tr></table></figure>

<p>4、设置缓存目录</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm config <span class="hljs-built_in">set</span> cache <span class="hljs-string">&quot;/path/to/node_cache&quot;</span><br></code></pre></td></tr></table></figure>

<p>5、将用户变量(环境变量)Path 中的npm路径更换为刚才<code>自定义的 node_global 全局包</code></p>
<p>6、新建<code>NODE_PATH</code>环境变量</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">变量名: NODE_PATH<br>变量值: 自定义的 node_global 全局包路径 + \node_modules<br></code></pre></td></tr></table></figure>

<p>7、在Path变量中新建</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">%NODE_PATH%<br></code></pre></td></tr></table></figure>

<p>8、添加国内镜像源</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm config <span class="hljs-built_in">set</span> registry https://registry.npm.taobao.org<br></code></pre></td></tr></table></figure>

<p>也可以使用定义的cnpm命令行工具代替默认的npm：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm install -g cnpm --registry=https://registry.npmmirror.com<br></code></pre></td></tr></table></figure>



<p>参考博客：</p>
<p><a target="_blank" rel="noopener" href="https://timberkito.com/?p=145">Windows 环境下安装与配置Node.js | Timber_Blog (timberkito.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/442215189">node.js安装及环境配置超详细教程【Windows系统安装包方式】 - 知乎 (zhihu.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/RioTian/p/17128654.html">Windows 环境下安装与配置 Node.js - RioTian - 博客园 (cnblogs.com)</a></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/21/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC/">自定义油猴脚本</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-03-21</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-03-21</span></span></div></header><div class="post-body"><div class="post-excerpt"><h4 id="四川农业大学教务处自动填充账号密码"><a href="#四川农业大学教务处自动填充账号密码" class="headerlink" title="四川农业大学教务处自动填充账号密码"></a>四川农业大学教务处自动填充账号密码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ==UserScript==</span><br><span class="hljs-comment">// @name         sicau jiaowu</span><br><span class="hljs-comment">// @namespace    http://tampermonkey.net/</span><br><span class="hljs-comment">// @version      0.1</span><br><span class="hljs-comment">// @description  try to take over the world!</span><br><span class="hljs-comment">// @author       You</span><br><span class="hljs-comment">// @match        https://jiaowu.sicau.edu.cn/web/web/web/index.asp</span><br><span class="hljs-comment">// @icon         https://www.google.com/s2/favicons?sz=64&amp;domain=sicau.edu.cn</span><br><span class="hljs-comment">// @grant        none</span><br><span class="hljs-comment">// ==/UserScript==</span><br><br>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-string">&#x27;use strict&#x27;</span>;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;txtUser&#x27;</span>).<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;your number&#x27;</span>;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;Userpwd&#x27;</span>).<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;your password&#x27;</span>;<br>    $(<span class="hljs-string">&quot;[name=&#x27;lb&#x27;]&quot;</span>).<span class="hljs-title function_">get</span>(<span class="hljs-number">0</span>).<span class="hljs-property">checked</span> = <span class="hljs-literal">true</span>;<br>    <span class="hljs-comment">// Your code here...</span><br>&#125;)();<br></code></pre></td></tr></table></figure>



<h4 id="四川农业大学学工处自动填充账号和密码"><a href="#四川农业大学学工处自动填充账号和密码" class="headerlink" title="四川农业大学学工处自动填充账号和密码"></a>四川农业大学学工处自动填充账号和密码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ==UserScript==</span><br><span class="hljs-comment">// @name         川农学工处</span><br><span class="hljs-comment">// @namespace    http://tampermonkey.net/</span><br><span class="hljs-comment">// @version      0.1</span><br><span class="hljs-comment">// @description  try to take over the world!</span><br><span class="hljs-comment">// @author       You</span><br><span class="hljs-comment">// @match        http://xsc.sicau.edu.cn/Sys/UserLogin.aspx</span><br><span class="hljs-comment">// @icon         https://www.google.com/s2/favicons?sz=64&amp;domain=sicau.edu.cn</span><br><span class="hljs-comment">// @grant        none</span><br><span class="hljs-comment">// ==/UserScript==</span><br><br>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-string">&#x27;use strict&#x27;</span>;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;UserName&#x27;</span>).<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;xxx&#x27;</span>;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;UserPass&#x27;</span>).<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;xxx&#x27;</span>;<br>    <span class="hljs-comment">// Your code here...</span><br>&#125;)();<br></code></pre></td></tr></table></figure>

</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/19/typora%E4%BD%BF%E7%94%A8picgo-command-line-%E5%9B%BE%E5%BA%8A%E9%85%8D%E7%BD%AE/">typora使用picgo(command line)图床配置</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-03-19</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-03-19</span></span></div></header><div class="post-body"><div class="post-excerpt"><h3 id="1、注册Gitee或者Github"><a href="#1、注册Gitee或者Github" class="headerlink" title="1、注册Gitee或者Github"></a>1、注册Gitee或者Github</h3><h3 id="2、安装Node-js"><a href="#2、安装Node-js" class="headerlink" title="2、安装Node.js"></a>2、安装Node.js</h3><p>node -v和npm -v有信息出现即为成功</p>
<h3 id="3、新建Gitee仓库"><a href="#3、新建Gitee仓库" class="headerlink" title="3、新建Gitee仓库"></a>3、新建Gitee仓库</h3><p>请把仓库设置为开源，否则图片上传后将无法显示</p>
<h4 id="新建私人Gitee令牌"><a href="#新建私人Gitee令牌" class="headerlink" title="新建私人Gitee令牌"></a>新建私人Gitee令牌</h4><p><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230319091751.png" alt="image-20230319091749544"></p>
<p>给图片中的权限就够用了，把生成的token复制下来</p>
<h3 id="4、typora安装picgo-core-command-line"><a href="#4、typora安装picgo-core-command-line" class="headerlink" title="4、typora安装picgo-core(command line)"></a>4、typora安装picgo-core(command line)</h3><p><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230319092017.png" alt="image-20230319092016071"></p>
<h4 id="点击打开配置文件"><a href="#点击打开配置文件" class="headerlink" title="点击打开配置文件"></a>点击打开配置文件</h4><p>图床配置文件</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;picBed&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;uploader&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;gitee&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;gitee&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;repo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;hcyx233/typora_imgs&quot;</span><span class="hljs-punctuation">,</span> #用户名+仓库名<br>      <span class="hljs-attr">&quot;token&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ded2db5b42449d9404ba189af4a80a31&quot;</span><span class="hljs-punctuation">,</span> #token<br>      <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;imgs&quot;</span><span class="hljs-punctuation">,</span> #仓库下的文件夹名，也可以不指定文件夹名，不指定的话就不填，要指定的话就仓库里面就必须存在那个文件夹<br>      <span class="hljs-attr">&quot;customUrl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&quot;</span><span class="hljs-punctuation">,</span> #域名，没有可以不填<br>      <span class="hljs-attr">&quot;branch&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;master&quot;</span> #推送到master分支<br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;picgoPlugins&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;picgo-plugin-gitee-uploader&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;picgo-plugin-super-prefix&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;picgo-plugin-super-prefix&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;fileFormat&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;YYYYMMDDHHmmss&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>

<h4 id="进入C-Users-你的用户名-AppData-Roaming-Typora-picgo-win64-gt-，执行如下两条命令"><a href="#进入C-Users-你的用户名-AppData-Roaming-Typora-picgo-win64-gt-，执行如下两条命令" class="headerlink" title="进入C:\Users\你的用户名\AppData\Roaming\Typora\picgo\win64&gt;，执行如下两条命令"></a>进入<code>C:\Users\你的用户名\AppData\Roaming\Typora\picgo\win64&gt;</code>，执行如下两条命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">picgo install super-prefix<br>picgo install gitee-uploader<br></code></pre></td></tr></table></figure>



<p>最后点击<strong>验证图片上传路径</strong>，出现下图即为成功</p>
<p><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230319092549.png" alt="image-20230319092547925"></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/18/%E8%B5%84%E6%BA%90%E5%90%88%E9%9B%86/">资源合集</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-03-18</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-03-18</span></span></div></header><div class="post-body"><div class="post-excerpt"><h3 id="开发类"><a href="#开发类" class="headerlink" title="开发类"></a>开发类</h3><h4 id="GoLang"><a href="#GoLang" class="headerlink" title="GoLang"></a>GoLang</h4><p><a target="_blank" rel="noopener" href="https://go.dev/doc/">https://go.dev/doc/</a></p>
<h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><p>Java全栈知识体系：<a target="_blank" rel="noopener" href="https://pdai.tech/">https://pdai.tech/</a></p>
<h4 id="Java面试"><a href="#Java面试" class="headerlink" title="Java面试"></a>Java面试</h4><p>JavaGuide：<a target="_blank" rel="noopener" href="https://javaguide.cn/">https://javaguide.cn/</a></p>
<h4 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h4><p>代码随想录：<a target="_blank" rel="noopener" href="https://www.programmercarl.com/">https://www.programmercarl.com/</a></p>
<h4 id="IT课程"><a href="#IT课程" class="headerlink" title="IT课程"></a>IT课程</h4><p>IT课程：<a target="_blank" rel="noopener" href="https://www.yuque.com/itkecheng/oagp2g/osf7bx#kJtXA">https://www.yuque.com/itkecheng/oagp2g/osf7bx#kJtXA</a></p>
<h4 id="itercast培训视频"><a href="#itercast培训视频" class="headerlink" title="itercast培训视频"></a>itercast培训视频</h4><p><a target="_blank" rel="noopener" href="https://n802.com/dir/13152-34242130-d8bc43">IterCast.Com全套视频 - 厘米天空软件备份</a></p>
<h4 id="视频网站"><a href="#视频网站" class="headerlink" title="视频网站"></a>视频网站</h4><p>神马影院：<a target="_blank" rel="noopener" href="https://www.osx9.com/">https://www.osx9.com/</a></p>
<p>樱花动漫：<a target="_blank" rel="noopener" href="https://www.yhdmp.cc/">樱花动漫(P)－专注动漫的门户网站</a></p>
<p>哈哩哈哩：<a target="_blank" rel="noopener" href="http://hali520.com/">哈哩哈哩官网_halihali_哈哩哈哩动漫</a></p>
<p>视频网站合集：<a target="_blank" rel="noopener" href="https://www.alfxw.com/2022/10/24/ys/">2022超多免费在线影视网站收藏_阿力分享网 (alfxw.com)</a></p>
<h4 id="资源搜索"><a href="#资源搜索" class="headerlink" title="资源搜索"></a>资源搜索</h4><p>telegram资源搜索：<a target="_blank" rel="noopener" href="https://www.sssoou.com/">https://www.sssoou.com/</a></p>
<p>100多个值得收藏的各类资源网站：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/537453233">https://zhuanlan.zhihu.com/p/537453233</a></p>
<h4 id="壁纸"><a href="#壁纸" class="headerlink" title="壁纸"></a>壁纸</h4><p>wallhaven：<a target="_blank" rel="noopener" href="https://wallhaven.cc/">https://wallhaven.cc/</a></p>
<h4 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h4><p>道客巴巴：<a target="_blank" rel="noopener" href="https://www.doc88.com/">道客巴巴-在线文档分享平台</a></p>
<h4 id="浏览器插件"><a href="#浏览器插件" class="headerlink" title="浏览器插件"></a>浏览器插件</h4><ul>
<li>AdGuard 广告拦截器</li>
<li>Vidline 屏幕录像和录屏助手</li>
<li>沙拉查词-聚合词典划词翻译</li>
<li>Tampermonkey 校本管理</li>
<li>LastPass: Free Password Manager 密码管理器</li>
<li>Infinity 新标签页 (Pro)</li>
</ul>
<h4 id="资源站点"><a href="#资源站点" class="headerlink" title="资源站点"></a>资源站点</h4><p>栗子博客：<a target="_blank" rel="noopener" href="https://www.lizi.tw/">栗子博客-举个栗子小白教程 (lizi.tw)</a></p>
<h4 id="电子书网站合集"><a href="#电子书网站合集" class="headerlink" title="电子书网站合集"></a>电子书网站合集</h4><p>简道云合集：<a target="_blank" rel="noopener" href="https://tyi45di4ct.jiandaoyun.com/dash/5e7d915c6c56d8000674a8b8">https://tyi45di4ct.jiandaoyun.com/dash/5e7d915c6c56d8000674a8b8</a></p>
<p>搬书匠：<a target="_blank" rel="noopener" href="http://www.banshujiang.cn/">http://www.banshujiang.cn/</a></p>
<h3 id="网络安全"><a href="#网络安全" class="headerlink" title="网络安全"></a>网络安全</h3><h4 id="知乎-思睿"><a href="#知乎-思睿" class="headerlink" title="知乎-思睿"></a>知乎-思睿</h4><p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/hu-ye-han/posts">https://www.zhihu.com/people/hu-ye-han/posts</a></p>
<h4 id="CTF六大方向基础工具合集"><a href="#CTF六大方向基础工具合集" class="headerlink" title="CTF六大方向基础工具合集"></a>CTF六大方向基础工具合集</h4><p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzU4OTg4Nzc4MQ==&mid=2247489366&idx=2&sn=b7f45121fdd7651ebf317e35ad01064f&chksm=fdc7f71ccab07e0afca0a281f67240dbc35afe7356062301b5281155b5ea442f40cbee8240ff&mpshare=1&scene=23&srcid=1127QKYqhme9IE3zAwpY0hZr&sharer_sharetime=1669522651937&sharer_shareid=dfe736ee6dd13378255894310f920e0e#rd">CTF 六大方向基础工具合集 (qq.com)</a></p>
<h4 id="资源站点-1"><a href="#资源站点-1" class="headerlink" title="资源站点"></a>资源站点</h4><p>集知盒子：<a target="_blank" rel="noopener" href="https://www.jizhihezi.com/">集知盒子 - 有态度、有内涵、有价值 (jizhihezi.com)</a></p>
<p>安全圈info：<a target="_blank" rel="noopener" href="https://www.anquanquan.info/">安全圈info - 做接地气的信息安全导航 (anquanquan.info)</a></p>
<h5 id="CTF站点导航："><a href="#CTF站点导航：" class="headerlink" title="CTF站点导航："></a>CTF站点导航：</h5><p><a target="_blank" rel="noopener" href="https://ctf.mzy0.com/">https://ctf.mzy0.com/</a></p>
<p><a target="_blank" rel="noopener" href="http://nav.luckysec.cn/">LuckySec - 网络安全资源导航</a></p>
<h4 id="逆向"><a href="#逆向" class="headerlink" title="逆向"></a>逆向</h4><p>吾爱破解：<a target="_blank" rel="noopener" href="https://www.52pojie.cn/">吾爱破解 - LCG - LSG|安卓破解|病毒分析|www.52pojie.cn</a></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/18/Git%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/">Git安装配置</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-03-18</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-03-18</span></span></div></header><div class="post-body"><div class="post-excerpt"><h3 id="Git安装配置"><a href="#Git安装配置" class="headerlink" title="Git安装配置"></a>Git安装配置</h3><h4 id="用户信息"><a href="#用户信息" class="headerlink" title="用户信息"></a>用户信息</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config --global user.name <span class="hljs-string">&quot;xxx&quot;</span><br>git config --global user.email xxx@xxx.com<br></code></pre></td></tr></table></figure>



<h4 id="添加远程库"><a href="#添加远程库" class="headerlink" title="添加远程库"></a>添加远程库</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh-keygen -t rsa -C <span class="hljs-string">&quot;xxx@xxx.com&quot;</span><br></code></pre></td></tr></table></figure>

<p><a href="mailto:&#120;&#120;&#x78;&#x40;&#x78;&#120;&#x78;&#46;&#x63;&#111;&#109;">&#120;&#120;&#x78;&#x40;&#x78;&#120;&#x78;&#46;&#x63;&#111;&#109;</a>改为你在Github上注册的邮箱，之后会要求确认路径和输入密码，我们这里默认一路回车就行。</p>
<p>成功的话会在~&#x2F;.ssh下生成一个<code>id_rsa.pub</code>，复制里面的key。</p>
<h4 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h4><p>Account&#x3D;&gt;Settings&#x3D;&gt;<code>SSH and GPG keys</code>&#x3D;&gt;New SSH key</p>
<h4 id="验证是否成功"><a href="#验证是否成功" class="headerlink" title="验证是否成功"></a>验证是否成功</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh -T git@github.com<br><span class="hljs-comment">#成功的话，会输出如下信息</span><br>Hi xxx! You<span class="hljs-string">&#x27;ve successfully authenticated, but GitHub does not provide shell access. # 成功信息</span><br></code></pre></td></tr></table></figure>


</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/18/%E7%8E%AF%E5%A2%83/">环境</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-03-18</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-03-19</span></span></div></header><div class="post-body"><div class="post-excerpt"><h3 id="kali修改镜像源"><a href="#kali修改镜像源" class="headerlink" title="kali修改镜像源"></a>kali修改镜像源</h3><p>修改 &#x2F;etc&#x2F;apt&#x2F;sources.list , 将相关 url 改成阿里云的源。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">deb https://mirrors.aliyun.com/kali kali-rolling main non-free contrib</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">deb-src https://mirrors.aliyun.com/kali kali-rolling main non-free contrib</span><br><br><br></code></pre></td></tr></table></figure>

<h3 id="centos7修改镜像源"><a href="#centos7修改镜像源" class="headerlink" title="centos7修改镜像源"></a>centos7修改镜像源</h3><ol>
<li><p>备份</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup<br><br></code></pre></td></tr></table></figure>
</li>
<li><p>下载镜像源文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo<br></code></pre></td></tr></table></figure>
</li>
<li><p>运行 <code>yum makecache</code>生成缓存</p>
</li>
</ol>
<h3 id="MySQL允许其他主机访问"><a href="#MySQL允许其他主机访问" class="headerlink" title="MySQL允许其他主机访问"></a>MySQL允许其他主机访问</h3><p>GRANT ALL ON <em>.</em> TO ‘root‘@’%’ IDENTIFIED BY ‘rootpassword’ WITH GRANT OPTION; </p>
<p>flush privileges;</p>
<h3 id="run-time-error-339"><a href="#run-time-error-339" class="headerlink" title="run-time error 339"></a>run-time error 339</h3><p>regsvr32 xxx.ocx</p>
<h3 id="Java环境变量"><a href="#Java环境变量" class="headerlink" title="Java环境变量"></a>Java环境变量</h3><p>JAVA_HOME：&#x2F;path&#x2F;to&#x2F;java</p>
<p>Path：%JAVA_HOME%\bin</p>
<h3 id="Tomcat环境变量配置"><a href="#Tomcat环境变量配置" class="headerlink" title="Tomcat环境变量配置"></a>Tomcat环境变量配置</h3><p>tomcat配置</p>
<p>环境变量：</p>
<p>CATALINA_HOME: &#x2F;path&#x2F;to&#x2F;tomcat</p>
<h3 id="tomcat9控制台中文乱码"><a href="#tomcat9控制台中文乱码" class="headerlink" title="tomcat9控制台中文乱码"></a>tomcat9控制台中文乱码</h3><p>conf-&gt;logging.properties-&gt;java.util.logging.ConsoleHandler.encoding &#x3D; UTF-8 &#x3D;&#x3D;&gt; java.util.logging.ConsoleHandler.encoding &#x3D; GBK</p>
<h3 id="maven配置"><a href="#maven配置" class="headerlink" title="maven配置"></a>maven配置</h3><h4 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h4><p>MAVEN_HOME：&#x2F;path&#x2F;to&#x2F;maven</p>
<p>Path：%MAVEN_HOME%\bin</p>
<p>阿里云镜像源：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>aliyunmaven<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>*<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>阿里云公共仓库<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://maven.aliyun.com/repository/public<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span><br></code></pre></td></tr></table></figure>





<h3 id="Git设置代理"><a href="#Git设置代理" class="headerlink" title="Git设置代理"></a>Git设置代理</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">http/https代理</span><br>git config --global http.proxy http://host:port<br>git config --global https.proxy https://host:port<br><span class="hljs-meta prompt_">#</span><span class="language-bash">socks代理</span><br>git config --global http.proxy socks5://host:port<br>git config --global https.proxy socks5://host:port<br></code></pre></td></tr></table></figure>





<h3 id="Git常用命令"><a href="#Git常用命令" class="headerlink" title="Git常用命令"></a>Git常用命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell">git add &lt;file&gt; #add file<br>git commit -m &lt;message&gt; &lt;file&gt; #commit file<br>git reflog #list versionids<br>git reset --hard &lt;versionid&gt; #checkout version<br>git branch -v #list branches<br>git branch &lt;name&gt; #create branch<br>git checkout &lt;branch-name&gt; #checkout branch<br>git merge &lt;branch-name&gt; #merge branch<br>git remote -v #查看当前所有远程地址别名<br>git remote add 别名 远程地址 #创建远程仓库别名<br>git push 别名 分支 #推送分支到远程库<br>git pull 别名 分支 #拉取<br></code></pre></td></tr></table></figure>





<h3 id="idea主题"><a href="#idea主题" class="headerlink" title="idea主题"></a>idea主题</h3><h4 id="material-theme-ui"><a href="#material-theme-ui" class="headerlink" title="material theme ui"></a>material theme ui</h4><h3 id="clion控制台乱码"><a href="#clion控制台乱码" class="headerlink" title="clion控制台乱码"></a>clion控制台乱码</h3><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/106747225">Clion 中 的乱码问题正确解决方案（来自官方技术支持） - 知乎 (zhihu.com)</a></p>
<h3 id="安装程序无法自动安装Virtual-Machine-Communication-Interface-Sockets（VSock）驱动程序。必须手动安装此驱动程序"><a href="#安装程序无法自动安装Virtual-Machine-Communication-Interface-Sockets（VSock）驱动程序。必须手动安装此驱动程序" class="headerlink" title="安装程序无法自动安装Virtual Machine Communication Interface Sockets（VSock）驱动程序。必须手动安装此驱动程序"></a>安装程序无法自动安装Virtual Machine Communication Interface Sockets（VSock）驱动程序。必须手动安装此驱动程序</h3><h4 id="安装如下两个补丁"><a href="#安装如下两个补丁" class="headerlink" title="安装如下两个补丁"></a>安装如下两个补丁</h4><p><a target="_blank" rel="noopener" href="https://www.catalog.update.microsoft.com/search.aspx?q=4490628">https://www.catalog.update.microsoft.com/search.aspx?q=4490628</a></p>
<p><a target="_blank" rel="noopener" href="https://www.catalog.update.microsoft.com/search.aspx?q=kb4474419">https://www.catalog.update.microsoft.com/search.aspx?q=kb4474419</a></p>
<h4 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h4><p>VMware tools的驱动签名算法是sha-2，win7老版本的驱动程序使用的是sha-1，打上微软提供的4490628和kb4474419补丁就行了。</p>
<h3 id="wsl磁盘迁移"><a href="#wsl磁盘迁移" class="headerlink" title="wsl磁盘迁移"></a>wsl磁盘迁移</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs powershell">wsl <span class="hljs-literal">-l</span> <span class="hljs-literal">-v</span> <span class="hljs-comment">#查看wsl下的Linux是否为关闭状态，当wsl为Stopped才能进行下一步。</span><br><br>wsl <span class="hljs-literal">--export</span> yourdist location <span class="hljs-comment">#以压缩包的形式导出到其他盘。</span><br>exam:wsl <span class="hljs-literal">--export</span> Ubuntu D:\UbuntuWSL\ubuntutar<br>wsl <span class="hljs-literal">--unregister</span> yourdist <span class="hljs-comment">#注销原有的linux系统</span><br>exam:wsl <span class="hljs-literal">--unregister</span> Ubuntu<br>wsl <span class="hljs-literal">--import</span> youdistname importlocation tar<span class="hljs-literal">-location</span> <span class="hljs-literal">--version</span> <span class="hljs-number">2</span> <span class="hljs-comment">#wsl --import &lt;导入的Linux名称&gt; &lt;导入盘的路径&gt; &lt;ubuntu.tar的路径&gt; --version 2 (代表wsl2)</span><br>exam: wsl <span class="hljs-literal">--import</span> Ubuntu D:\UbuntuWSL\ D:\UbuntuWSL\ubuntu.tar <span class="hljs-literal">--version</span> <span class="hljs-number">2</span><br>yourdistname.exe config <span class="hljs-literal">--default-user</span> username<br>exam:ubuntu.exe config <span class="hljs-literal">--default-user</span> xxx <span class="hljs-comment">#在导入任意盘linux系统时，我起名Ubuntu，所以这里是ubuntu.exe；如果你起的名字是Ubuntu-20.04，那这里就是ubuntu2004.exe；如果你起的名字是ubuntu-18.04，那这里就是ubuntu1804.exe。</span><br><span class="hljs-comment"># xxx 是原有wsl ubuntu的用户名称。</span><br></code></pre></td></tr></table></figure>

<h4 id="停止wsl子系统"><a href="#停止wsl子系统" class="headerlink" title="停止wsl子系统"></a>停止wsl子系统</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell">wsl <span class="hljs-literal">--shutdown</span><br></code></pre></td></tr></table></figure>
<p><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230319093824.png" alt="image-20230113104304905"></p>
<h4 id="wsl修改默认用户为非root用户"><a href="#wsl修改默认用户为非root用户" class="headerlink" title="wsl修改默认用户为非root用户"></a>wsl修改默认用户为非root用户</h4><p>vim &#x2F;etc&#x2F;wsl.conf</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">[user]<br>default = xxx<br></code></pre></td></tr></table></figure>



<h3 id="fedora配置ssh服务"><a href="#fedora配置ssh服务" class="headerlink" title="fedora配置ssh服务"></a>fedora配置ssh服务</h3><p>首先查看是否安装openSSH,通过命令：rpm -qa | grep openssh-server，如果有结果说明安装了，只需要配置一下就ok。</p>
<p>如果没有执行命令：yum install openssh-server</p>
<p>配置一下，打开&#x2F;etc&#x2F;ssh&#x2F;ssh_config ，去掉其中：</p>
<p>Port 22                    </p>
<p>Protocol 2,1  </p>
<p>前面的#号，然后重新启动：service sshd restart。</p>
<p>最后需要设置一下防火墙，允许ssh端口被访问：</p>
<p>iptables -I INPUT -p tcp –dport 22 -j ACCEPT</p>
<p>然后就可以通过ssh工具连接了。</p>
<h3 id="编程字体推荐"><a href="#编程字体推荐" class="headerlink" title="编程字体推荐"></a>编程字体推荐</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/gaowencheng01/article/details/110295853">推荐几款优秀的开源编程字体_北极狐north的博客-CSDN博客_编程字体</a></p>
<h3 id="编程软件"><a href="#编程软件" class="headerlink" title="编程软件"></a>编程软件</h3><h4 id="He3–开发工具合集"><a href="#He3–开发工具合集" class="headerlink" title="He3–开发工具合集"></a>He3–开发工具合集</h4><h4 id="zeal–文档合集"><a href="#zeal–文档合集" class="headerlink" title="zeal–文档合集"></a>zeal–文档合集</h4><h4 id="drawio–绘图"><a href="#drawio–绘图" class="headerlink" title="drawio–绘图"></a>drawio–绘图</h4><h4 id="navicat–数据库管理软件"><a href="#navicat–数据库管理软件" class="headerlink" title="navicat–数据库管理软件"></a>navicat–数据库管理软件</h4><h4 id="SQLyog"><a href="#SQLyog" class="headerlink" title="SQLyog"></a>SQLyog</h4><p>010editor–二进制文件编辑</p>
<p>burpsuite–安全必备</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/18/CTF/">CTF</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-03-18</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-03-19</span></span></div></header><div class="post-body"><div class="post-excerpt"><h1 id="CTF"><a href="#CTF" class="headerlink" title="CTF"></a>CTF</h1><h2 id="方向"><a href="#方向" class="headerlink" title="方向"></a>方向</h2><ul>
<li>web安全</li>
<li>逆向工程 reverse</li>
<li>漏洞挖掘和漏洞利用 pwn，exploit</li>
<li>密码学 crypto</li>
<li>调查取证 misc</li>
<li>移动安全 mobile</li>
</ul>
<h2 id="CTF攻略"><a href="#CTF攻略" class="headerlink" title="CTF攻略"></a>CTF攻略</h2><h3 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h3><p>Linux基础，计算机组成原理，操作系统原理，网络协议分析</p>
<h3 id="A方向"><a href="#A方向" class="headerlink" title="A方向"></a>A方向</h3><p>PWN+Reverse+Crypto，IDA工具，逆向工程，密码学，缓冲区溢出</p>
<h3 id="B方向"><a href="#B方向" class="headerlink" title="B方向"></a>B方向</h3><p>Web+Misc，网络安全，内网渗透，数据库安全，信息收集能力</p>
<h2 id="CTF在线演练"><a href="#CTF在线演练" class="headerlink" title="CTF在线演练"></a>CTF在线演练</h2><p><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230319094158.png" alt="image-20230112125344291"></p>
<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><h3 id="浏览器及插件"><a href="#浏览器及插件" class="headerlink" title="浏览器及插件"></a>浏览器及插件</h3><p>火狐延长支持版、hackbar</p>
<h3 id="编辑器"><a href="#编辑器" class="headerlink" title="编辑器"></a>编辑器</h3><p>notepad++，010editor</p>
<h2 id="杂项题的基本解题思路"><a href="#杂项题的基本解题思路" class="headerlink" title="杂项题的基本解题思路"></a>杂项题的基本解题思路</h2><h3 id="文件操作和隐写"><a href="#文件操作和隐写" class="headerlink" title="文件操作和隐写"></a>文件操作和隐写</h3><h4 id="文件类型识别"><a href="#文件类型识别" class="headerlink" title="文件类型识别"></a>文件类型识别</h4><ol>
<li>file命令<ol>
<li>格式：file filename</li>
<li>使用场景：不知道后缀名，无法打开文件</li>
</ol>
</li>
<li>winhex<ol>
<li>文件头对照表：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42777804/article/details/98876646">常见的文件头信息对照表_就是217的博客-CSDN博客</a></li>
</ol>
</li>
<li>文件头残缺&#x2F;错误</li>
</ol>
<h4 id="文件分离操作"><a href="#文件分离操作" class="headerlink" title="文件分离操作"></a>文件分离操作</h4><ol>
<li>binwalk工具<ol>
<li>分析文件：binwalk filename</li>
<li>分离文件：binwalk -e filename</li>
</ol>
</li>
<li>foremost<ol>
<li>foremost 文件名 -o 输出目录名</li>
</ol>
</li>
<li>dd<ol>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-dd.html">Linux dd 命令 | 菜鸟教程 (runoob.com)</a></li>
</ol>
</li>
<li>winhex</li>
<li>010Editor</li>
</ol>
<h4 id="文件合并操作"><a href="#文件合并操作" class="headerlink" title="文件合并操作"></a>文件合并操作</h4><h5 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h5><ol>
<li>cat<ol>
<li>cat 合并的文件 &gt; 输出的文件</li>
</ol>
</li>
<li>md5sum 完整性检测<ol>
<li>md5sum 文件名</li>
</ol>
</li>
</ol>
<h5 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h5><ol>
<li>copy &#x2F;B 合并的文件 输出的文件</li>
<li>md5完整性检测：certutil-hashfile 文件名 md5</li>
</ol>
<h4 id="文件内容隐写"><a href="#文件内容隐写" class="headerlink" title="文件内容隐写"></a>文件内容隐写</h4><ol>
<li>winhex&#x2F;010Editor</li>
<li>notepad++ hex-editor插件</li>
</ol>
<h3 id="图片隐写术"><a href="#图片隐写术" class="headerlink" title="图片隐写术"></a>图片隐写术</h3><p>图片隐写的常用隐写方法：</p>
<p>细微的颜色差别、GIF图多帧隐藏、exif信息隐藏、图片修复、最低有效位LSB隐写、图片加密</p>
<ol>
<li>Firework</li>
<li>exif<ol>
<li>查看图片的exif信息（地理位置等等）</li>
</ol>
</li>
<li>stegsolve<ol>
<li>使用场景：两张图片信息基本相同</li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43639682/article/details/113857310">stegsolve图片隐写解析器的使用_黑朱雀的博客-CSDN博客_stegsolve1.3 by caesum</a></li>
</ol>
</li>
<li>LSB（最低有效位 Least Significant Bit）<ol>
<li>工具：stegsolve，zsteg，wbStego43open</li>
</ol>
</li>
<li>TweakPNG<ol>
<li>使用场景：文件头正常却无法打开文件，利用TweakPNG修改CRC</li>
<li>有时CRC没有错误，但是图片的高度或者宽度发生了错误，需要通过CRC计算出正确的高度或者宽度</li>
</ol>
</li>
<li>Bftools<ol>
<li>使用场景：在Windows的cmd下，对加密过的图片文件进行解密</li>
<li>bftools decode braincopter 要解密的图片名称 –output 输出文件名</li>
<li>bftools run 上一步输出的文件</li>
</ol>
</li>
<li>SilentEye</li>
<li>JPG图片加密<ol>
<li>stegdetect 主要用于分析jpeg文件<ol>
<li>stegdetect xxx.jpg</li>
<li>stegdetect -s 敏感度 xxx.jpg</li>
</ol>
</li>
</ol>
</li>
<li>outguess</li>
<li>F5</li>
<li>二维码处理<ol>
<li>电脑桌面二维码扫描器</li>
</ol>
</li>
</ol>
<h3 id="压缩文件处理"><a href="#压缩文件处理" class="headerlink" title="压缩文件处理"></a>压缩文件处理</h3><ol>
<li>伪加密</li>
<li>暴力破解<ol>
<li>archpr</li>
</ol>
</li>
<li>明文攻击</li>
<li>压缩文件修复，十六进制第三位<ol>
<li>0x72表示标记块</li>
<li>0x73表示是压缩文件头块</li>
<li>0x74表示是文件头块</li>
<li>0x75表示是注释头</li>
</ol>
</li>
</ol>
<h3 id="流量取证技术"><a href="#流量取证技术" class="headerlink" title="流量取证技术"></a>流量取证技术</h3><h4 id="wireshark过滤器"><a href="#wireshark过滤器" class="headerlink" title="wireshark过滤器"></a>wireshark过滤器</h4><ol>
<li>过滤IP<ol>
<li>ip.src eq x.x.x.x</li>
<li>ip.dst eq x.x.x.x</li>
<li>ip.addr eq x.x.x.x</li>
</ol>
</li>
<li>过滤端口<ol>
<li>tcp.port eq xx</li>
<li>tcp.dstport &#x3D;&#x3D; 80</li>
</ol>
</li>
<li>过滤协议</li>
<li>过滤MAC</li>
<li>包长度过滤</li>
<li>http模式过滤<ol>
<li>http.request.method &#x3D;&#x3D; “GET”</li>
<li>http.request.uri &#x3D;&#x3D; “path”</li>
<li>http contains “xxx”</li>
</ol>
</li>
</ol>
<h4 id="流量包文件分析"><a href="#流量包文件分析" class="headerlink" title="流量包文件分析"></a>流量包文件分析</h4><h5 id="常见的http流关键内容"><a href="#常见的http流关键内容" class="headerlink" title="常见的http流关键内容"></a>常见的http流关键内容</h5><ol>
<li>HTML中直接包含重要信息</li>
<li>上传或下载文件内容，通常包含文件名、hash值等关键信息，常用post请求上传</li>
<li>一句话木马，post请求，内容包含eval，内容使用base64加密</li>
</ol>
<h5 id="导出分组字节流"><a href="#导出分组字节流" class="headerlink" title="导出分组字节流"></a>导出分组字节流</h5><h4 id="无线流量包跑密码"><a href="#无线流量包跑密码" class="headerlink" title="无线流量包跑密码"></a>无线流量包跑密码</h4><h5 id="无线WiFi流量包"><a href="#无线WiFi流量包" class="headerlink" title="无线WiFi流量包"></a>无线WiFi流量包</h5><ol>
<li>aircrack-ng工具进行WiFi密码破解<ol>
<li>用aircrack-ng检查cap包：aircrack-ng xxx.cap</li>
<li>用aircrack-ng跑字典进行握手包破解：aircrack-ng xxx.cap -w pass.txt</li>
</ol>
</li>
</ol>
<h4 id="USB流量包文件分析"><a href="#USB流量包文件分析" class="headerlink" title="USB流量包文件分析"></a>USB流量包文件分析</h4><p>USB协议的数据部分在leftover capture data域之中，右键leftover capture data&#x3D;&#x3D;》应用为列</p>
<h5 id="USB键盘流量抓取分析"><a href="#USB键盘流量抓取分析" class="headerlink" title="USB键盘流量抓取分析"></a>USB键盘流量抓取分析</h5><p>使用wireshark提供的命令行工具tshark，可以将leftover capture data数据单独复制出来</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">tshark -r xxx.pcap -T fileds -e usb.capdata &gt; xxx.txt<br></code></pre></td></tr></table></figure>

<h5 id="USB鼠标流量抓取分析"><a href="#USB鼠标流量抓取分析" class="headerlink" title="USB鼠标流量抓取分析"></a>USB鼠标流量抓取分析</h5><p>鼠标流量包的数据长度为4个字节，第一个字节表示按键，0x00表示没有按键，0x01表示左键，0x02表示右键，第二个字节代表左右偏移，第三个字节代表上下偏移</p>
<h6 id="gnuplot-根据坐标画出图形"><a href="#gnuplot-根据坐标画出图形" class="headerlink" title="gnuplot 根据坐标画出图形"></a>gnuplot 根据坐标画出图形</h6><h5 id="USB流量分析工具"><a href="#USB流量分析工具" class="headerlink" title="USB流量分析工具"></a>USB流量分析工具</h5><h5 id="鼠标流量分析"><a href="#鼠标流量分析" class="headerlink" title="鼠标流量分析"></a>鼠标流量分析</h5><p><a target="_blank" rel="noopener" href="https://github.com/WangYihang/UsbMiceDataHacker">GitHub - WangYihang&#x2F;UsbMiceDataHacker: USB鼠标流量包取证工具 , 主要用于绘制鼠标移动以及拖动轨迹</a></p>
<h5 id="键盘流量分析"><a href="#键盘流量分析" class="headerlink" title="键盘流量分析"></a>键盘流量分析</h5><p><a target="_blank" rel="noopener" href="https://github.com/WangYihang/UsbKeyboardDataHacker">GitHub - WangYihang&#x2F;UsbKeyboardDataHacker: USB键盘流量包取证工具 , 用于恢复用户的击键信息</a></p>
<h4 id="https流量包文件分析"><a href="#https流量包文件分析" class="headerlink" title="https流量包文件分析"></a>https流量包文件分析</h4><p>https流量是经过TLS协议加密过的，需要导入key才能看到原始的http流量。https &#x3D; http + TLS</p>
<p>编辑 &#x3D;&#x3D;》首选项 &#x3D;&#x3D;》protocols &#x3D;&#x3D;》SSL &#x3D;&#x3D;》Edit RSA keys list</p>
<h2 id="密码学"><a href="#密码学" class="headerlink" title="密码学"></a>密码学</h2><p>对称密钥和非对称密钥</p>
<h3 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h3><h4 id="ASCII编码"><a href="#ASCII编码" class="headerlink" title="ASCII编码"></a>ASCII编码</h4><h4 id="base64编码"><a href="#base64编码" class="headerlink" title="base64编码"></a>base64编码</h4><h4 id="URL编码"><a href="#URL编码" class="headerlink" title="URL编码"></a>URL编码</h4><p> 特点：密文中有很多个%</p>
<h4 id="Unicode编码"><a href="#Unicode编码" class="headerlink" title="Unicode编码"></a>Unicode编码</h4><p> 特点：密文中有多个 <code>\uxxx</code></p>
<h4 id="JS混淆"><a href="#JS混淆" class="headerlink" title="JS混淆"></a>JS混淆</h4><p>特点：通常在JS脚本里使用eval和function进行混淆</p>
<h2 id="ssh私钥泄露root主机"><a href="#ssh私钥泄露root主机" class="headerlink" title="ssh私钥泄露root主机"></a>ssh私钥泄露root主机</h2><ol>
<li>nmap扫描端口 nmap  -sV ip<ol>
<li>nmap用法</li>
</ol>
</li>
<li>dirb探测隐藏文件 dirb <a href="http://ip:port/">http://ip:port/</a></li>
<li>ssh -i id_rsa user@ip 更改id_rsa权限 chmod 600 id_rsa<ol>
<li>解密ssh密钥信息</li>
<li>ssh2john id_rsa &gt; xxx</li>
<li>利用字典解密iscrack信息<ol>
<li>zcat &#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;rockyou.txt.gz | john –pipe –rules xxx</li>
</ol>
</li>
</ol>
</li>
<li>查找具有root权限的文件<ol>
<li>find &#x2F; -perm -4000 2&gt; &#x2F;dev&#x2F;null</li>
</ol>
</li>
</ol>
<h3 id="对于某些靶场，也可以使用nikto扫描器来挖掘敏感信息"><a href="#对于某些靶场，也可以使用nikto扫描器来挖掘敏感信息" class="headerlink" title="对于某些靶场，也可以使用nikto扫描器来挖掘敏感信息"></a>对于某些靶场，也可以使用nikto扫描器来挖掘敏感信息</h3><p>nikto -host ip </p>
<h3 id="常见文件"><a href="#常见文件" class="headerlink" title="常见文件"></a>常见文件</h3><ol>
<li>&#x2F;etc&#x2F;passwd</li>
<li>&#x2F;etc&#x2F;group</li>
<li>find &#x2F; -user xxxuser</li>
<li>&#x2F;tmp 缓冲文件目录</li>
<li>&#x2F;etc&#x2F;corntab 定时任务</li>
</ol>
<p>可以使用msf来暴力破解ssh密码</p>
<h2 id="SMB信息泄露"><a href="#SMB信息泄露" class="headerlink" title="SMB信息泄露"></a>SMB信息泄露</h2><h2 id="CTF书籍"><a href="#CTF书籍" class="headerlink" title="CTF书籍"></a>CTF书籍</h2><p>web应用安全权威指南</p>
<p>web前端黑客技术揭秘</p>
<p>黑客秘籍-渗透测试实用指南</p>
<p>黑客攻防技术宝典 Web实战篇</p>
<p>代码审计：企业级Web代码安全架构</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/18/mybatis/">mybatis</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-03-18</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-03-19</span></span></div></header><div class="post-body"><div class="post-excerpt"><h1 id="mybatis"><a href="#mybatis" class="headerlink" title="mybatis"></a>mybatis</h1><h2 id="mysql5-7数据库插入中文乱码问题解决"><a href="#mysql5-7数据库插入中文乱码问题解决" class="headerlink" title="mysql5.7数据库插入中文乱码问题解决"></a>mysql5.7数据库插入中文乱码问题解决</h2><ol>
<li><p>增加连接时的选项</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3307/mybatis?useUnicode=true&amp;characterEncoding=utf8</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>更改my.ini</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">在[client]节点下添加  default-character-set=utf8 <br><br>在[mysqld]节点下添加 （注：collation是排序方式）<br>character-set-server=utf8 <br>collation-server=utf8_general_ci <br></code></pre></td></tr></table></figure>

<ol>
<li>关闭服务 net stop mysql57</li>
<li>开启服务 net start mysql57</li>
</ol>
</li>
</ol>
<blockquote>
<p>特性</p>
</blockquote>
<ol>
<li>支持定制化sql，存储过程以及高级映射的持久层框架</li>
<li>避免了几乎所有的jdbc代码和手动设置参数以及获取结果集</li>
<li>可以使用xml或注解用于配置和原始映射，将接口和Java的pojo映射成数据库中的记录</li>
<li>半自动的ORM框架</li>
</ol>
<blockquote>
<p>和其他持久层技术对比</p>
</blockquote>
<ol>
<li>轻量级，性能出色</li>
<li>sql和Java编码分开，功能边界清晰。Java代码专注业务，sql语句专注数据</li>
</ol>
<blockquote>
<p>mybatis面向接口编程的两个一致</p>
</blockquote>
<ol>
<li>映射文件的namespace要和mapper接口的全类名保持一致</li>
<li>映射文件中的sql语句的id要和mapper文件的方法名一致</li>
</ol>
<ul>
<li>SqlSession默认不自动提交事务，若需要自动提交事务，可以使用SqlsessionFactory.openSession(true)</li>
<li>查询功能的标签必须设置resultType或resultMap<ul>
<li>resultType：设置默认的映射关系</li>
<li>resultMap：设置自定义的映射关系</li>
</ul>
</li>
</ul>
<h2 id="核心配置文件"><a href="#核心配置文件" class="headerlink" title="核心配置文件"></a>核心配置文件</h2><p>jdbc.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">jdbc.driver</span>=<span class="hljs-string">com.mysql.jdbc.Driver</span><br><span class="hljs-attr">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3307/mybatis?useUnicode=yes&amp;amp;characterEncoding=utf8</span><br><span class="hljs-attr">jdbc.username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">jdbc.password</span>=<span class="hljs-string">123456</span><br></code></pre></td></tr></table></figure>





<blockquote>
<p>mapper</p>
</blockquote>
<ol>
<li><p>以包为单位引入映射文件</p>
<ol>
<li><p>mapper接口所在的包要和映射文件所在的包一致</p>
</li>
<li><p>mapper接口要和映射文件的名字一致</p>
<p><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230319094313.png" alt="image-20220718181014174"></p>
</li>
</ol>
</li>
</ol>
<blockquote>
<p>在idea中设置配置文件的模板<br><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230319094408.png" alt="image-20220718182338828"><br><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230319094411.png" alt="image-20220718182450980"></p>
</blockquote>
<h2 id="sqlsession工具类"><a href="#sqlsession工具类" class="headerlink" title="sqlsession工具类"></a>sqlsession工具类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SqlSessionUtils</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlSession <span class="hljs-title function_">getSqlSession</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">InputStream</span> <span class="hljs-variable">resourceAsStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis-config.xml&quot;</span>);<br>            <span class="hljs-type">SqlSessionFactoryBuilder</span> <span class="hljs-variable">sqlSessionFactoryBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>();<br>            <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">build</span> <span class="hljs-operator">=</span> sqlSessionFactoryBuilder.build(resourceAsStream);<br>            sqlSession = build.openSession(<span class="hljs-literal">true</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">return</span> sqlSession;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<blockquote>
<p>mybatis获取参数值的两种方式</p>
</blockquote>
<p>mybatis获取参数值的两种方式：${}和#{}</p>
<ol>
<li>${}本质就是字符串拼接</li>
<li>#{}占位符赋值</li>
</ol>
<p>mybatis获取参数值的各种情况：</p>
<ol>
<li>mapper接口方法的参数为单个的字面量类型，可以通过${}和#{}以任意的字符串获取参数值，但是需要注意${}的单引号问题</li>
<li>mapper接口方法的参数为多个时，此时mybatis会将这些参数放在一个map集合中，以两种方式进行存储<ol>
<li>以arg0，arg1。。。为键，以参数为值</li>
<li>以param1，param2。。。为键，以参数为值</li>
<li>可以通过${}和#{}以键的方式获取参数值，但是需要注意${}的单引号问题</li>
</ol>
</li>
<li>若mapper接口方法的参数有多个时，可以手动将这些参数放在一个map中存储。取值和方式二类似</li>
<li>mapper接口方法的参数是实体类类型的参数</li>
<li>使用@Param注解命名参数<ol>
<li>以@Param注解的值为键，以参数为值</li>
<li>以param1，param2。。。为键，以参数为值</li>
</ol>
</li>
</ol>
<h2 id="mybatis的各种查询功能"><a href="#mybatis的各种查询功能" class="headerlink" title="mybatis的各种查询功能"></a>mybatis的各种查询功能</h2><p>mybatis的各种查询功能</p>
<ol>
<li>若查询出的数据只有一条，可以通过实体类对象或者集合接收，也可以通过map集合接收，会返回一个以字段名为键，字段值为值的map。</li>
<li>若查询出的数据有多条，可以通过List集合接收，一定不能通过实体类对象接收，会抛出异常</li>
<li>mybatis中设置了默认的类型别名，具体可以参考mybatis官方文档</li>
<li>通过在mapper接口的方法上添加@MapKey注解，此时就可以将每条数据转换的map集合作为值，以某个字段的值作为键</li>
</ol>
<h2 id="特殊sql的执行"><a href="#特殊sql的执行" class="headerlink" title="特殊sql的执行"></a>特殊sql的执行</h2><blockquote>
<p>模糊查询</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml">select * from t_user where username like &#x27;%$&#123;username&#125;%&#x27; #尽量不用，因为可能会出现sql注入问题<br>select * from t_user where username like concat(&#x27;%&#x27;,#&#123;username&#125;,&#x27;%&#x27;)<br>select * from t_user where username like &quot;%&quot;#&#123;username&#125;&quot;%&quot; #开发中一般推荐使用这种<br></code></pre></td></tr></table></figure>

<blockquote>
<p>批量删除</p>
</blockquote>
<blockquote>
<p>动态设置表名</p>
</blockquote>
<blockquote>
<p>添加功能获取自增的主键</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml">    <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;insertUser&quot;</span> <span class="hljs-attr">useGeneratedKeys</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">keyProperty</span>=<span class="hljs-string">&quot;id&quot;</span>&gt;</span><br>        insert into t_user values(null,#&#123;username&#125;,#&#123;password&#125;,#&#123;age&#125;,#&#123;sex&#125;,#&#123;email&#125;)<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br><br>#useGeneratedKeys 表示当前标签中的sql使用了自增的主键<br>#keyProperty 将自增的主键的值赋值给传输到映射文件中参数的某个属性<br><br></code></pre></td></tr></table></figure>





<h2 id="自定义映射resultMap"><a href="#自定义映射resultMap" class="headerlink" title="自定义映射resultMap"></a>自定义映射resultMap</h2><blockquote>
<p>解决字段名和属性名不一致的情况</p>
</blockquote>
<ol>
<li><p>为字段起别名，保持和属性名一致</p>
</li>
<li><p>设置全局配置，将_自动映射为驼峰</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>resultMap</p>
<ol>
<li>id：唯一标识，不能重复</li>
<li>type：设置映射关系中的实体类类型</li>
<li>子标签<ol>
<li>id：主键的映射关系</li>
<li>result：设置普通字段的映射关系</li>
<li>属性<ol>
<li>property：实体类的属性名</li>
<li>column：字段名</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<blockquote>
<p>处理多对一的映射关系</p>
</blockquote>
<ol>
<li><p>级联属性赋值</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;empAndDeptResultOne&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;emp&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;eid&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;eid&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;empName&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;emp_name&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;age&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;sex&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sex&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;email&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;dept.deptName&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;dept_name&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;dept.did&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;did&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>使用association处理多对一的映射关系</p>
<ol>
<li>property：需要处理的属性名</li>
<li>javaType：该属性的类型</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;empAndDeptResultOne&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;emp&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;eid&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;eid&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;empName&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;emp_name&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;age&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;sex&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sex&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;email&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;dept&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;dept&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;did&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;did&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;deptName&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;dept_name&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">association</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>分步查询</p>
<ol>
<li>select：设置分步查询的sql的唯一标识(namespace，sqlid和mapper接口的全类名，方法名)</li>
<li>column：设置分步查询的条件</li>
<li>fetchType：当开启了全局的延迟加载之后，可通过此属性手动控制延迟加载的效果，lazy|eager，lazy表示延迟加载，eager表示立即加载</li>
</ol>
<p>EmpMapper.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;stepOneMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;emp&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">id</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;eid&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;eid&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;empName&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;emp_name&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;age&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;sex&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sex&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;email&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;dept&quot;</span> <span class="hljs-attr">select</span>=<span class="hljs-string">&quot;com.mybatis.mapper.DeptMapper.stepTwo&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;did&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;stepOne&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;stepOneMap&quot;</span>&gt;</span><br>        select * from t_emp where eid = #&#123;eid&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><br>public interface EmpMapper &#123;<br>    List<span class="hljs-tag">&lt;<span class="hljs-name">Emp</span>&gt;</span> getAllEmps();<br><br>    Emp getEmpAndDept(@Param(&quot;eid&quot;) Integer eid);<br><br>    Emp stepOne(@Param(&quot;eid&quot;) Integer eid);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>DeptMapper.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;stepTwo&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;dept&quot;</span>&gt;</span><br>        select * from t_dept where did = #&#123;did&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><br>public interface DeptMapper &#123;<br><br>    Dept stepTwo(@Param(&quot;did&quot;) Integer did);<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>处理一对多关系</p>
</blockquote>
<ol>
<li>collection</li>
<li>分步查询</li>
</ol>
<h2 id="动态sql"><a href="#动态sql" class="headerlink" title="动态sql"></a>动态sql</h2><ol>
<li><p>if：根据标签中test属性所对应的表达式决定标签中的内容是否需要拼接到sql中</p>
</li>
<li><p>where：</p>
<ol>
<li><p>当where标签中有内容时，会自动生成where关键字，并且将内容前多余的and，or去掉</p>
</li>
<li><p>当where中没有内容时，此时where标签没有任何作用</p>
</li>
<li><p>注意：where标签不能将其中内容后面多余的and，or去掉</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getEmpByConditionOld&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.mybatis.pojo.Emp&quot;</span>&gt;</span><br>        select * from t_emp<br>        <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;empName != null and empName != &#x27;&#x27;&quot;</span>&gt;</span><br>                emp_name = #&#123;empName&#125;;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;age != null and age != &#x27;&#x27;&quot;</span>&gt;</span><br>                and age = #&#123;age&#125;;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;sex != null and sex != &#x27;&#x27;&quot;</span>&gt;</span><br>                and sex = #&#123;sex&#125;;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;email != null and email != &#x27;&#x27;&quot;</span>&gt;</span><br>                and email = #&#123;email&#125;;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>trim：</p>
<ol>
<li><p>prefix|suffix：将trim标签中内容签名或后面添加指定内容</p>
</li>
<li><p>suffixOverrides|prefixOverrides：将trim标签中内容前面或后面去掉指定内容</p>
</li>
<li><p>若标签中没有内容，trim标签也没有任何效果</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getEmpByCondition&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.mybatis.pojo.Emp&quot;</span>&gt;</span><br>        select * from t_emp<br>        <span class="hljs-tag">&lt;<span class="hljs-name">trim</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">&quot;where&quot;</span> <span class="hljs-attr">prefixOverrides</span>=<span class="hljs-string">&quot;and|or&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;empName != null and empName != &#x27;&#x27;&quot;</span>&gt;</span><br>                emp_name = #&#123;empName&#125;;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;age != null and age != &#x27;&#x27;&quot;</span>&gt;</span><br>                and age = #&#123;age&#125;;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;sex != null and sex != &#x27;&#x27;&quot;</span>&gt;</span><br>                and sex = #&#123;sex&#125;;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;email != null and email != &#x27;&#x27;&quot;</span>&gt;</span><br>                and email = #&#123;email&#125;;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">trim</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>choose，when，otherwise相当于if。。else if。。。else。when至少要有一个，otherwise最多只能有一个</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getEmpByChoose&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.mybatis.pojo.Emp&quot;</span>&gt;</span><br>        select * from t_emp<br>        <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">choose</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;empName != null and empName != &#x27;&#x27;&quot;</span>&gt;</span><br>                    emp_name = #&#123;empName&#125;<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">when</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;sex != null and sex != &#x27;&#x27;&quot;</span>&gt;</span><br>                    sex = #&#123;sex&#125;<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">when</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;email != null and email != &#x27;&#x27;&quot;</span>&gt;</span><br>                    email = #&#123;email&#125;<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">when</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">otherwise</span>&gt;</span><br>                    did = 1<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">otherwise</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">choose</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>foreach</p>
<ol>
<li><p>collection：设置需要循环的数组或集合</p>
</li>
<li><p>item：表示数组或集合中的每一个数据</p>
</li>
<li><p>separator：循环体之间的分隔符</p>
</li>
<li><p>open：循环的开始符</p>
</li>
<li><p>close：循环的结束符</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteMoreByArray&quot;</span>&gt;</span><br>        delete from t_emp where eid in<br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">&quot;eids&quot;</span> <span class="hljs-attr">item</span>=<span class="hljs-string">&quot;eid&quot;</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">&quot;,&quot;</span> <span class="hljs-attr">open</span>=<span class="hljs-string">&quot;(&quot;</span> <span class="hljs-attr">close</span>=<span class="hljs-string">&quot;)&quot;</span>&gt;</span><br>            #&#123;eid&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span><br><br><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>sql标签</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">sql</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;empcolumns&quot;</span>&gt;</span><br>        eid,emp_name,age,sex,email<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">sql</span>&gt;</span><br>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getEmpByConditionOld&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.mybatis.pojo.Emp&quot;</span>&gt;</span><br>        select <span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;empcolumns&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span> from t_emp<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="mybatis缓存"><a href="#mybatis缓存" class="headerlink" title="mybatis缓存"></a>mybatis缓存</h2><h3 id="一级缓存"><a href="#一级缓存" class="headerlink" title="一级缓存"></a>一级缓存</h3><p>作用域是sqlsession级别的，通过同一个SqlSession查询的数据会被缓存，下次查询相同的数据，就会从缓存中直接获取，不会从数据库重新访问</p>
<blockquote>
<p>使一级缓存失效的四种情况</p>
</blockquote>
<ol>
<li>不同的SqlSession对应不同的一级缓存</li>
<li>同一个SqlSession但是查询条件不</li>
<li>同一个SqlSession两次查询期间执行了任何一次增删改操作</li>
<li>同一个SqlSession两次查询期间手动清空了缓存</li>
</ol>
<h3 id="二级缓存"><a href="#二级缓存" class="headerlink" title="二级缓存"></a>二级缓存</h3><p>二级缓存是SqlSessionFactory级别，通过同一个SqlSessionFactory创建的SqlSession查询的结果会被缓存；此后若再次执行相同的查询语句，结果就会从缓存中获取</p>
<blockquote>
<p>开启二级缓存的条件</p>
</blockquote>
<ol>
<li><p>在核心配置文件中，设置全局配置属性cacheEnabled&#x3D;”true”，默认为true，不需要设置</p>
</li>
<li><p>在映射文件中设置标签<cache/></p>
</li>
<li><p>二级缓存必须在SqlSession关闭或提交之后有效</p>
</li>
<li><p>查询的数据所转换的实体类类型必须实现序列化的接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test05</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis-config.xml&quot;</span>);<br>            <span class="hljs-type">SqlSessionFactoryBuilder</span> <span class="hljs-variable">sqlSessionFactoryBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>();<br>            <span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">build</span> <span class="hljs-operator">=</span> sqlSessionFactoryBuilder.build(is);<br>            <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession1</span> <span class="hljs-operator">=</span> build.openSession(<span class="hljs-literal">true</span>);<br>            <span class="hljs-type">CacheMapper</span> <span class="hljs-variable">mapper1</span> <span class="hljs-operator">=</span> sqlSession1.getMapper(CacheMapper.class);<br>            <span class="hljs-type">Emp</span> <span class="hljs-variable">emp</span> <span class="hljs-operator">=</span> mapper1.getEmp(<span class="hljs-number">4</span>);<br>            System.out.println(emp);<br>            sqlSession1.close();<br>            <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession2</span> <span class="hljs-operator">=</span> build.openSession(<span class="hljs-literal">true</span>);<br>            <span class="hljs-type">CacheMapper</span> <span class="hljs-variable">mapper2</span> <span class="hljs-operator">=</span> sqlSession2.getMapper(CacheMapper.class);<br>            <span class="hljs-type">Emp</span> <span class="hljs-variable">emp1</span> <span class="hljs-operator">=</span> mapper2.getEmp(<span class="hljs-number">4</span>);<br>            System.out.println(emp1);<br>            sqlSession2.close();<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<p><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230319094446.png" alt="image-20220719210749900"></p>
<blockquote>
<p>二级缓存失效的情况</p>
</blockquote>
<ol>
<li>两次查询之间执行了任意的增删改，会使一级和二级缓存同时失效</li>
</ol>
<h4 id="二级缓存相关配置"><a href="#二级缓存相关配置" class="headerlink" title="二级缓存相关配置"></a>二级缓存相关配置</h4><ul>
<li>eviction：缓存回收策略</li>
<li>flushinterval：刷新间隔，单位毫秒</li>
<li>size：引用数目，正整数</li>
<li>readOnly：只读</li>
</ul>
<h3 id="mybatis缓存查询的顺序"><a href="#mybatis缓存查询的顺序" class="headerlink" title="mybatis缓存查询的顺序"></a>mybatis缓存查询的顺序</h3><ul>
<li>先查询二级缓存，因为二级缓存中可能会有其他程序已经查出来的数据，可以直接拿来使用</li>
<li>如果二级缓存没有命中，再查询一级缓存</li>
<li>如果一级缓存没有命中，再查询数据库</li>
<li>sqlsession关闭之后，以及缓存中的数据会写入二级缓存</li>
</ul>
<h3 id="整合第三方缓存EHCache"><a href="#整合第三方缓存EHCache" class="headerlink" title="整合第三方缓存EHCache"></a>整合第三方缓存EHCache</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- Mybatis EHCache整合包 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.caches<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-ehcache<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- slf4j日志门面的一个具体实现 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>ch.qos.logback<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>logback-classic<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>jar包</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>mybatis-ehcache</td>
<td>mybatis和ehcache的整合包</td>
</tr>
<tr>
<td>ehcache</td>
<td>ehcache核心包</td>
</tr>
<tr>
<td>slf4j-api</td>
<td>slf4j日志门面包</td>
</tr>
<tr>
<td>logback-classic</td>
<td>支持slf4j门面接口的一个具体实现</td>
</tr>
</tbody></table>
<h4 id="ehcache-xml"><a href="#ehcache-xml" class="headerlink" title="ehcache.xml"></a>ehcache.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span> ?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ehcache</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:noNamespaceSchemaLocation</span>=<span class="hljs-string">&quot;../config/ehcache.xsd&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 磁盘保存路径 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">diskStore</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;E:\ehcache&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">defaultCache</span></span><br><span class="hljs-tag">            <span class="hljs-attr">maxElementsInMemory</span>=<span class="hljs-string">&quot;1000&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">maxElementsOnDisk</span>=<span class="hljs-string">&quot;10000000&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">eternal</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">overflowToDisk</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">timeToIdleSeconds</span>=<span class="hljs-string">&quot;120&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">timeToLiveSeconds</span>=<span class="hljs-string">&quot;120&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">diskExpiryThreadIntervalSeconds</span>=<span class="hljs-string">&quot;120&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">memoryStoreEvictionPolicy</span>=<span class="hljs-string">&quot;LRU&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">defaultCache</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ehcache</span>&gt;</span><br></code></pre></td></tr></table></figure>



<ol>
<li><p>设置二级缓存的类型</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>加入logback日志</p>
<p>logback.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span> <span class="hljs-attr">debug</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 指定日志输出的位置 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;STDOUT&quot;</span></span><br><span class="hljs-tag">              <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 日志输出的格式 --&gt;</span><br>    <span class="hljs-comment">&lt;!-- 按照顺序分别是：时间、日志级别、线程名称、打印日志的类、日志主体内容、换行 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>[%d&#123;HH:mm:ss.SSS&#125;] [%-5level] [%thread] [%logger]<br>    [%msg]%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 设置全局日志级别。日志级别按顺序分别是：DEBUG、INFO、WARN、ERROR --&gt;</span><br>    <span class="hljs-comment">&lt;!-- 指定任何一个日志级别都只打印当前级别和后面级别的日志。 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;DEBUG&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 指定打印日志的appender，这里通过“STDOUT”引用了前面配置的appender --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;STDOUT&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 根据特殊需求指定局部日志级别 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.atguigu.crowd.mapper&quot;</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;DEBUG&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="mybaits逆向工程"><a href="#mybaits逆向工程" class="headerlink" title="mybaits逆向工程"></a>mybaits逆向工程</h2><h4 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>MyBatis_MBG<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 依赖MyBatis核心包 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.7<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.49<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.13.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- log4j日志 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.17<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 控制Maven在构建过程中相关配置 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 构建过程中用到的插件 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- 具体插件，逆向工程的操作是以构建过程中插件形式出现的 --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.generator<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>                <span class="hljs-comment">&lt;!-- 插件的依赖 --&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>                    <span class="hljs-comment">&lt;!-- 逆向工程的核心依赖 --&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.generator<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-generator-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>                    <span class="hljs-comment">&lt;!-- 数据库连接池 --&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.mchange<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>c3p0<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>                    <span class="hljs-comment">&lt;!-- MySQL驱动 --&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="generatorConfig-xml"><a href="#generatorConfig-xml" class="headerlink" title="generatorConfig.xml"></a>generatorConfig.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">generatorConfiguration</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">generatorConfiguration</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">targetRuntime: 执行生成的逆向工程的版本</span><br><span class="hljs-comment">MyBatis3Simple: 生成基本的CRUD（清新简洁版）</span><br><span class="hljs-comment">MyBatis3: 生成带条件的CRUD（奢华尊享版）</span><br><span class="hljs-comment">--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;DB2Tables&quot;</span> <span class="hljs-attr">targetRuntime</span>=<span class="hljs-string">&quot;MyBatis3&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 数据库的连接信息 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">jdbcConnection</span> <span class="hljs-attr">driverClass</span>=<span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="hljs-tag">                        <span class="hljs-attr">connectionURL</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3307/mybatis?useUnicode=yes<span class="hljs-symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span></span><br><span class="hljs-tag">                        <span class="hljs-attr">userId</span>=<span class="hljs-string">&quot;root&quot;</span></span><br><span class="hljs-tag">                        <span class="hljs-attr">password</span>=<span class="hljs-string">&quot;123456&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">jdbcConnection</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- javaBean的生成策略--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">javaModelGenerator</span> <span class="hljs-attr">targetPackage</span>=<span class="hljs-string">&quot;com.mybatis.bean&quot;</span></span><br><span class="hljs-tag">                            <span class="hljs-attr">targetProject</span>=<span class="hljs-string">&quot;.\src\main\java&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;enableSubPackages&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;trimStrings&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">javaModelGenerator</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- SQL映射文件的生成策略 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">sqlMapGenerator</span> <span class="hljs-attr">targetPackage</span>=<span class="hljs-string">&quot;com.mybatis.mapper&quot;</span></span><br><span class="hljs-tag">                         <span class="hljs-attr">targetProject</span>=<span class="hljs-string">&quot;.\src\main\resources&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;enableSubPackages&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">sqlMapGenerator</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- Mapper接口的生成策略 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">javaClientGenerator</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;XMLMAPPER&quot;</span></span><br><span class="hljs-tag">                             <span class="hljs-attr">targetPackage</span>=<span class="hljs-string">&quot;com.mybatis.mapper&quot;</span> <span class="hljs-attr">targetProject</span>=<span class="hljs-string">&quot;.\src\main\java&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;enableSubPackages&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">javaClientGenerator</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 逆向分析的表 --&gt;</span><br>        <span class="hljs-comment">&lt;!-- tableName设置为*号，可以对应所有表，此时不写domainObjectName --&gt;</span><br>        <span class="hljs-comment">&lt;!-- domainObjectName属性指定生成出来的实体类的类名 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">tableName</span>=<span class="hljs-string">&quot;t_emp&quot;</span> <span class="hljs-attr">domainObjectName</span>=<span class="hljs-string">&quot;Emp&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">tableName</span>=<span class="hljs-string">&quot;t_dept&quot;</span> <span class="hljs-attr">domainObjectName</span>=<span class="hljs-string">&quot;Dept&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">context</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">generatorConfiguration</span>&gt;</span><br></code></pre></td></tr></table></figure>



<p><img src="https://gitee.com/hcyx233/typora_imgs/raw/master/imgs/20230319094521.png" alt="image-20220720105112257"></p>
<h2 id="分页插件"><a href="#分页插件" class="headerlink" title="分页插件"></a>分页插件</h2><h4 id="pom-xml-1"><a href="#pom-xml-1" class="headerlink" title="pom.xml"></a>pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="mybatis-config-xml"><a href="#mybatis-config-xml" class="headerlink" title="mybatis-config.xml"></a>mybatis-config.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--设置分页插件--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br></code></pre></td></tr></table></figure>



<p>官方文档:</p>
<p><a target="_blank" rel="noopener" href="https://github.com/pagehelper/Mybatis-PageHelper">https://github.com/pagehelper/Mybatis-PageHelper</a></p>
</div></div></article></section><nav class="paginator"><div class="paginator-inner"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-angle-right"></i></a></div></nav></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><section class="sidebar-toc hide"></section><!-- ov = overview--><section class="sidebar-ov"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/stun-logo.svg" alt="avatar"></div><p class="sidebar-ov-author__text">Hello Stun</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">15</div><div class="sidebar-ov-state-item__name">归档</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2023</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>花晨月夕</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v6.3.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.8.0</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.8.0"></script><script src="/js/stun-boot.js?v=2.8.0"></script><script src="/js/scroll.js?v=2.8.0"></script><script src="/js/header.js?v=2.8.0"></script><script src="/js/sidebar.js?v=2.8.0"></script></body></html>